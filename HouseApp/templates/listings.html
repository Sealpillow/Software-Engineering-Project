<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: Arial, Helvetica, sans-serif}

        .menu-btn {
            border-radius: 48px;
            border: 0.5px solid lightgrey;
            font-size: 1.2em;
            padding: 2px 10px;
            background-color: white;
            margin-right: 10px;

        }

        .menu {
            padding-top: 10px;
            z-index: 200;
            margin-top: 4px;
            background: white;
            position: absolute;
        }

        .menu-option {

            padding: 6px 20px 6px;
        }

        #overlay {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            z-index: 100;
        }

        a {
            font-size : 25px
        }
        form
        {
            width:1000px;
            background: white;
            margin: 90px 30% 0%;
            postion:absolute;
        }

</style>
<head>
    <meta charset="UTF-8">
    <title>OnlyFlats</title>

</head>
<body>

      <div class="w3-top">
          <div class="w3-bar w3-blue w3-wide w3-padding w3-card">
            <img src= "https://i.ibb.co/Hq2FwXs/logo.png" alt = "text" style="width:10%" width="20" height="70">
             <!--Float links to the right. Hide them on small screens -->
            <div class="w3-right w3-hide-small">
              <a href="#projects" class="w3-bar-item w3-button">Login</a>
              <a href="#about" class="w3-bar-item w3-button">About</a>
              <a href="#contact" class="w3-bar-item w3-button">Contact</a>
            </div>
          </div>
      </div>

      <!-- https://blog.hubspot.com/website/html-dropdown-->
      <form class="p-3" action="/filter" target="_blank" method ="get">
          <!-- https://dev.to/ara225/how-to-create-a-custom-multi-select-dropdown-2mnb -->
          <div class="col-12 col-md-8 container">
              <div class="row col-20">
                  <div>
                      <button onclick="dropDown(event);" class="menu-btn" type="button"> Location &#9013; </button>
                      <div class="d-none shadow rounded menu">
                          <span class="d-block menu-option"><label><input type="checkbox" id="location1" name="locOption1" value="Choa Chu kang">&nbsp; Choa Chu kang</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="location2" name="locOption2" value="Bedok">&nbsp; Bedok</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="location3" name="locOption3" value="Yishun">&nbsp; Yishun</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="location4" name="locOption4" value="Ang Mo Kio">&nbsp; Ang Mo Kio</label></span>
                      </div>
                  </div>
                  <div>
                      <button onclick="dropDown(event);" class="menu-btn" type="button">Flat Type &#9013; </button>
                      <div class="d-none shadow rounded menu">
                          <span class="d-block menu-option"><label><input type="checkbox" id="flat_type1" name="roomOption1" value="3 Room">&nbsp; 3 Room</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="flat_type2" name="roomOption2" value="4 Room">&nbsp; 4 Room</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="flat_type3" name="roomOption3" value="5 Room">&nbsp; 5 Room</label></span>
                      </div>
                  </div>
                  <div>
                      <button onclick="dropDown(event);" class="menu-btn" type="button">Bed &#9013; </button>
                      <div class="d-none shadow rounded menu">
                          <span class="d-block menu-option"><label><input type="checkbox" id="bed1" name="bedOption1" value="1">&nbsp; 1</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="bed2" name="bedOption2" value="2">&nbsp; 2</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="bed3" name="bedOption3" value="3">&nbsp; 3</label></span>
                      </div>
                  </div>
                  <div>
                      <button onclick="dropDown(event);" class="menu-btn" type="button">Bath &#9013; </button>
                      <div class="d-none shadow rounded menu">
                          <span class="d-block menu-option"><label><input type="checkbox" id="bath1" name="bathOption1" value="3 Room">&nbsp; 1</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="bath2" name="bathOption2" value="4 Room">&nbsp; 2</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="bath3" name="bathOption3" value="5 Room">&nbsp; 3</label></span>
                      </div>
                  </div>
                  <div>
                      <button onclick="dropDown(event);" class="menu-btn" type="button">price &#9013; </button>
                      <div class="d-none shadow rounded menu">
                          <span class="d-block menu-option"><label><input type="checkbox" id="price1" name="bathOption1" value="3 Room">&nbsp; 1</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="price2" name="bathOption2" value="4 Room">&nbsp; 2</label></span>
                          <span class="d-block menu-option"><label><input type="checkbox" id="price3" name="bathOption3" value="5 Room">&nbsp; 3</label></span>
                      </div>
                  </div>
                  <button class="w3-button w3-black w3-margin-bottom menu-btn" type="submit" value="submit" >Submit</button>
              </div>
          </div>
          <div class="d-none" id="overlay" onclick="hide(event)"></div>
      </form>
  <div class="w3-content" style="max-width:1800px;">

     <!-- each row-->
     <div class="w3-row-padding w3-padding-16">
        {% for flat in listings %} <!-- each listing-->
            <a class="w3-third w3-margin-bottom" href = {{ flat[0] }}>
              <img src= {{ flat[1] }} style="width:100%" width="400" height="400">
              <div class="w3-container w3-white">
                <h5>{{ flat[6] }}</h5>
                <h5>{{ flat[5] }}</h5>
                <p class="w3-large"><i class="fa fa-arrows-h"></i> {{ flat[2] }} <i class="fa fa-bed"></i> {{ flat[3] }} <i class="fa fa-bath"></i> {{ flat[4] }} <img src= {{ flat[7] }} alt="Norway"  width="150" height="50">
                <button class="w3-button w3-block w3-black w3-margin-bottom">View Listing</button>
              </div>
            </a>
        {% endfor %}
    </div>

  </div>
  <script>

    /* When the user clicks on the button,
    toggle between hiding and showing the dropdown content
    https://www.w3schools.com/howto/howto_css_dropdown_navbar.asp
    https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_fixed_menu
    */
    function dropDown(event)
    {
        event.target.parentElement.children[1].classList.remove("d-none");
        document.getElementById("overlay").classList.remove("d-none");
    }
    function hide(event)
    {
        var items = document.getElementsByClassName('menu');
        for (let i = 0; i < items.length; i++)
        {
            items[i].classList.add("d-none");
        }
        document.getElementById("overlay").classList.add("d-none");
    }

  </script>
</body>
</html>